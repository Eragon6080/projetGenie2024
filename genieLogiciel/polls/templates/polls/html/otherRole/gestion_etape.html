<form method="post">
    {% csrf_token %}
    {% csrf_token %}
            <h2 id="creationTitle">Ajout d'une étape</h2>
            <div class="row py-3 g-3 align-items-center">
                <div class="col-auto">
                    <label for="{{form.titre.id_for_label}}" class="form-label">{{form.titre.label}}</label>
                </div>
                <div class="col-auto">
                    {{ form.titre }}
                </div>
            </div>
            <div class="row py-3 g-3 align-items-center">
                <div class="col-auto">
                    <label for="{{form.description.id_for_label}}" class="form-label">{{form.description.label}}</label>
                </div>
                <div class="col">
                    {{ form.description }}
                </div>
            </div>
            <div class="row py-3 g-3 align-items-center">
                <div class="col-auto">
                    <label for="{{form.datedebut.id_for_label}}" class="form-label">{{form.datedebut.label}}</label>
                </div>
                <div class="col">
                    {{ form.datedebut }}
                </div>
            </div>
            <div class="row py-3 g-3 align-items-center">
                <div class="col-auto">
                    <label for="{{form.datefin.id_for_label}}" class="form-label">{{ form.datefin.label }}</label>
                </div>
                <div class="col-auto">
                    {{ form.datefin }}
                </div>
            </div>
            <div class="row py-3 g-3 align-items-center">
                        <div class="col-auto">
                            <label for="{{form.necessiteDelivrable.id_for_label}}" class="form-label">{{ form.necessiteDelivrable.label }}</label>
                        </div>
                        <div class="col-auto">
                            {{ form.necessiteDelivrable }}
                        </div>
            </div>

    

            <div class="row py-3 g-3 align-items-center" style="display: none" id="typeFichierContainer">
                        <div class="col-auto">
                            <label for="{{form.typeFichier.id_for_label}}" class="form-label">{{ form.typeFichier.label }}</label>
                        </div>
                        <div class="col-auto">
                            {{ form.typeFichier }}
                        </div>
            </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const necessiteDelivrableFields = document.querySelectorAll("input[name='necessiteDelivrable']");
            const typeFichierContainer = document.getElementById("typeFichierContainer");

            function toggleTypeFichierField() {
                const necessiteDelivrable = document.querySelector("input[name='necessiteDelivrable']:checked").value;
                if(necessiteDelivrable === 'True') {
                    typeFichierContainer.style.display = "block";
                } else {
                    typeFichierContainer.style.display = "none";
                }
            }

            necessiteDelivrableFields.forEach(field => {
                field.addEventListener('change', toggleTypeFichierField);
            });

            toggleTypeFichierField(); // Appel initial pour définir l'état correct lors du chargement de la page
        });
    </script>

    <button class="btn bgunamur" type="submit">Soumettre</button>
</form>
